<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="theme-color" content="#A10054" />
  <title>Hitachi Axis ‚Äî TWA Full-Screen Demo</title>

  <style>
    html, body {
      touch-action: pan-x pan-y;
      -ms-touch-action: pan-x pan-y;
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    *, *::before, *::after { box-sizing: border-box }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
      color: #0e0e0e;
      background: #fafafa;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }

    :root {
      --axis:#A10054;
      --hitachi:#E60012;
      --ink:#111827;
      --muted:#6b7280;
      --bg:#f8fafc;
      --card:#ffffff;
      --shadow:0 10px 30px rgba(0,0,0,.06), 0 2px 10px rgba(0,0,0,.04);
      --radius:20px;
    }

    @media (prefers-color-scheme: dark){
      body{background:#0b0b0c;color:#e5e7eb}
      :root{--bg:#0b0b0c;--card:#0f1115;--ink:#e5e7eb;--muted:#9ca3af;--shadow:0 10px 30px rgba(0,0,0,.4), 0 2px 10px rgba(0,0,0,.35)}
    }

    .safe{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) env(safe-area-inset-bottom,0) env(safe-area-inset-left,0)}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .grid{display:grid;gap:20px}

    header{
      position:sticky;top:0;z-index:10;
      background:linear-gradient(90deg,var(--axis),var(--hitachi));
      color:#fff;box-shadow:var(--shadow)
    }
    .topbar{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;letter-spacing:.3px}
    .brand .mark{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:9px;background:#fff;color:#111;box-shadow:inset 0 0 0 2px rgba(0,0,0,.05)}
    .brand small{opacity:.9;font-weight:600}
    nav.actions{display:flex;gap:10px}
    .btn{appearance:none;border:0;border-radius:999px;padding:10px 16px;font-weight:600;cursor:pointer}
    .btn.solid{background:#fff;color:#111}
    .btn.ghost{background:rgba(255,255,255,.16);color:#fff}
    .btn.outline{background:transparent;color:var(--axis);outline:2px solid rgba(161,0,84,.3)}

    .hero{min-height:calc(100svh - 64px);display:grid;place-items:center;background:
      radial-gradient(1200px 500px at 10% -10%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(1200px 600px at 110% -20%, rgba(255,255,255,.15), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0));
      backdrop-filter:saturate(1.15)
    }
    .hero .card{display:grid;gap:22px;background:var(--card);padding:28px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .pill{display:inline-flex;align-items:center;gap:8px;font-weight:700;color:var(--axis);background:rgba(161,0,84,.08);padding:8px 12px;border-radius:999px}
    .title{font-size:clamp(24px,4vw,42px);line-height:1.1;margin:0;color:var(--ink)}
    .subtitle{margin:0;color:var(--muted)}
    .cta{display:flex;flex-wrap:wrap;gap:12px}
    .cta .btn.primary{background:linear-gradient(90deg,var(--axis),var(--hitachi));color:#fff}
    .cta .btn.outline{background:transparent;color:var(--axis);outline:2px solid rgba(161,0,84,.3)}

    .features{padding:40px 0}
    .cards{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:var(--shadow)}
    .card h3{margin:.2rem 0 .4rem;font-size:1.05rem}
    .card p{margin:0;color:var(--muted)}
    .tag{font-size:12px;display:inline-flex;gap:8px;align-items:center;color:#fff;background:var(--axis);padding:6px 10px;border-radius:999px}

    .muted{color:var(--muted)}
    .field{width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(0,0,0,.12);background:var(--card);color:inherit}
    .field:focus{outline:2px solid rgba(161,0,84,.35);box-shadow:0 0 0 4px rgba(161,0,84,.12)}
    .file-row{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:12px}
    .file-name{font-size:.95rem}

    #printArea{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:12px;min-height:120px;display:grid;place-items:center;overflow:hidden}
    #printArea > .placeholder{padding:28px;color:var(--muted)}
    #printArea img{max-width:100%;height:auto;display:block}
    #printArea iframe{width:100%;height:500px;border:0}
    #printArea pre{margin:0;padding:16px;white-space:pre-wrap;word-break:break-word;width:100%}

    footer{padding:40px 0;color:var(--muted)}
    .legal{font-size:12px;opacity:.8}

    .toast{position:fixed;left:50%;bottom:calc(env(safe-area-inset-bottom,0) + 20px);
      transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;
      border-radius:999px;box-shadow:var(--shadow);opacity:0;transition:opacity .25s, transform .25s;
      pointer-events:none}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-4px)}

    /* -------- PRINT-ONLY MODE FOR IMAGE-ONLY PRINTS -------- */
    #printOnly { display: none; }
    body.printing-only #printOnly { display: block; }

    @media print {
      /* Hide absolutely everything in image-only mode... */
      body.printing-only * { display: none !important; }
      /* ...except the image container */
      body.printing-only #printOnly,
      body.printing-only #printOnly * { display: block !important; }

      @page { margin: 0; }
      body.printing-only { margin: 0; }
      #printOnly img { width: 100%; height: auto; }
    }

    /* -------- NORMAL WHOLE-PAGE PRINTS (when NOT printing-only) -------- */
    @media print {
      body:not(.printing-only) header,
      body:not(.printing-only) .hero,
      body:not(.printing-only) footer,
      body:not(.printing-only) nav.actions,
      body:not(.printing-only) .toast { display: none !important; }

      body:not(.printing-only) { margin: 0; }
      /* Optional for 80mm receipts on whole-page prints:
      @page { size: 80mm auto; margin: 0; }
      body:not(.printing-only) { font-family: monospace; font-size: 12pt; }
      */
    }
  </style>
</head>

<body class="safe">
  <header class="safe">
    <div class="container topbar">
      <div class="brand" aria-label="Hitachi Axis">
        <span class="mark" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" role="presentation">
            <rect x="2" y="3" width="6" height="18" rx="2" fill="#A10054"/>
            <rect x="16" y="3" width="6" height="18" rx="2" fill="#E60012"/>
            <rect x="7" y="10.5" width="10" height="3" rx="1.5" fill="#111"/>
          </svg>
        </span>
        <div>
          <div style="font-size:15px;line-height:1">Hitachi Axis</div>
          <small style="opacity:.85">Digital Banking</small>
        </div>
      </div>

      <nav class="actions" aria-label="Primary">
        <button class="btn ghost" onclick="scrollToId('products')">Products</button>
        <button class="btn ghost" onclick="scrollToId('features')">Features</button>
        <button class="btn solid" onclick="primaryCTA()">Open Account</button>
        <button class="btn solid" onclick="printPage()">Print Page</button>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero safe">
      <div class="container">
        <div class="card" style="text-align:left;max-width:760px;margin:0 auto">
          <span class="pill"><span class="icon" aria-hidden="true">üîí</span> Secure ‚Ä¢ Fast ‚Ä¢ 24√ó7</span>
          <h1 class="title">Axis Digital Savings Account ‚Äî powered by Hitachi experience.</h1>
          <p class="subtitle">Open in minutes, manage everything in a single place, and enjoy enterprise-grade security backed by Hitachi.</p>
          <div class="cta">
            <a class="btn primary" href="#" onclick="primaryCTA();return false;">Open Account</a>
            <a class="btn outline" href="#features" onclick="scrollToId('features');return false;">Explore features</a>
          </div>
          <div class="row" style="gap:14px;color:var(--muted)">
            <span class="row"><span class="icon" aria-hidden="true">‚úÖ</span> Zero paperwork</span>
            <span class="row"><span class="icon" aria-hidden="true">üõ°Ô∏è</span> RBI-compliant KYC</span>
            <span class="row"><span class="icon" aria-hidden="true">‚ö°</span> Real-time onboarding</span>
          </div>
        </div>
      </div>
    </section>

    <section id="features" class="features safe">
      <div class="container">
        <h2 style="margin:0 0 14px">Why customers love it</h2>
        <div class="grid cards">
          <article class="card">
            <div class="row"><span class="icon">üì±</span><h3>Unified dashboard</h3></div>
            <p>Track balances, cards, and investments in one glance ‚Äî optimized for TWA full-screen.</p>
          </article>
          <article class="card">
            <div class="row"><span class="icon">üß†</span><h3>Smart insights</h3></div>
            <p>Spending categorization and bill reminders, powered by lightweight on-device logic.</p>
          </article>
          <article class="card">
            <div class="row"><span class="icon">üõ°Ô∏è</span><h3>Secure by design</h3></div>
            <p>HTTPS everywhere, CSP-friendly, and ready for kiosk deployments.</p>
          </article>
          <article class="card">
            <div class="row"><span class="icon">‚öôÔ∏è</span><h3>TWA-ready</h3></div>
            <p>No browser UI. Use Digital Asset Links to launch this page as a Trusted Web Activity.</p>
          </article>
        </div>
      </div>
    </section>

    <section id="products" class="product-strip safe">
      <div class="container">
        <h2 style="margin:0 0 14px">Products</h2>
        <div class="grid product-list">
          <div class="card">
            <span class="tag">Savings</span>
            <strong>Digital Savings Account</strong>
            <p class="muted">Zero paperwork onboarding with video KYC.</p>
            <div class="cta"><a class="btn primary" href="#" onclick="primaryCTA();return false;">Apply now</a></div>
          </div>
          <div class="card">
            <span class="tag" style="background:var(--hitachi);color:#fff;padding:6px 10px;border-radius:999px;font-size:12px;">Credit</span>
            <strong>Axis Credit Card</strong>
            <p class="muted">Rewards, EMI, and powerful controls.</p>
            <div class="cta"><a class="btn outline" href="#" onclick="toaster('Pre-approved offer coming soon')">Check offers</a></div>
          </div>
          <div class="card">
            <span class="tag" style="background:#0ea5e9;color:#fff;padding:6px 10px;border-radius:999px;font-size:12px;">Invest</span>
            <strong>Mutual Funds</strong>
            <p class="muted">SIP in minutes. Track performance in real-time.</p>
            <div class="cta"><a class="btn outline" href="#" onclick="toaster('NAV charts demo only')">View NAVs</a></div>
          </div>
        </div>
      </div>
    </section>

    <section class="safe" aria-labelledby="contact">
      <div class="container">
        <h2 id="contact" style="margin:0 0 14px">Need help?</h2>
        <div class="card">
          <form class="grid" style="grid-template-columns:1fr;gap:12px" onsubmit="return fakeSubmit(event)">
            <label>
              <span>Name</span><br/>
              <input required class="field" type="text" placeholder="Your name" />
            </label>
            <label>
              <span>Email</span><br/>
              <input required class="field" type="email" placeholder="you@example.com" />
            </label>
            <label>
              <span>Message</span><br/>
              <textarea class="field" rows="4" placeholder="How can we help?"></textarea>
            </label>
            <button class="btn primary" type="submit">Send message</button>
            <small class="legal">Demo form ‚Äî does not send data.</small>
          </form>
        </div>
      </div>
    </section>

    <!-- Upload & Print -->
    <section id="uploadSection" class="safe">
      <div class="container">
        <div class="card">
          <h2 style="margin:0 0 10px">Upload & Print</h2>
          <p class="muted" style="margin:0 0 12px">Choose an image, PDF, or text file. ‚ÄúPrint Uploaded‚Äù prints the image only.</p>

          <div class="file-row">
            <input id="fileInput" type="file" class="field" accept="image/*,application/pdf,text/plain" />
            <button class="btn solid" onclick="printUploaded()">Print Uploaded</button>
            <span id="fileName" class="file-name muted"></span>
          </div>

          <div id="printArea">
            <div class="placeholder">No file selected yet.</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="safe">
    <div class="container">
      <div class="row" style="justify-content:space-between;gap:10px">
        <span>¬© <span id="year"></span> Hitachi Axis (Demo)</span>
        <span class="legal">For TWA preview only.</span>
      </div>
    </div>
  </footer>

  <!-- Print-only container (only visible during image-only print) -->
  <div id="printOnly" aria-hidden="true"></div>

  <script>
    function setVh(){document.documentElement.style.setProperty('--vh', window.innerHeight + 'px');}
    setVh(); addEventListener('resize', setVh);

    function scrollToId(id){document.getElementById(id)?.scrollIntoView({behavior:'smooth',block:'start'});}
    function toaster(msg){
      let t=document.querySelector('.toast');
      if(!t){t=document.createElement('div');t.className='toast';document.body.appendChild(t)}
      t.textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),1800);
    }
    function primaryCTA(){toaster('Opening account flow (demo)')}
    function fakeSubmit(e){e.preventDefault();toaster('Thanks! Team will reach out.');return false}

    function printPage(){
      toaster('Opening print dialog...');
      window.print();
    }

    const fileInput = document.getElementById('fileInput');
    const fileNameEl = document.getElementById('fileName');
    const printArea = document.getElementById('printArea');

    fileInput.addEventListener('change', async (e) => {
      const file = e.target.files?.[0];
      printArea.innerHTML = '';
      fileNameEl.textContent = '';

      if (!file) {
        printArea.innerHTML = '<div class="placeholder">No file selected yet.</div>';
        return;
      }

      fileNameEl.textContent = file.name;
      const type = file.type || '';
      const url = URL.createObjectURL(file);

      if (type.startsWith('image/')) {
        const img = document.createElement('img');
        img.src = url;
        img.alt = file.name;
        printArea.appendChild(img);
        toaster('Image ready for print');
        return;
      }

      if (type === 'application/pdf') {
        const iframe = document.createElement('iframe');
        iframe.src = url;
        printArea.appendChild(iframe);
        toaster('PDF preview shown (Print Uploaded prints images only)');
        return;
      }

      if (type === 'text/plain' || file.name.endsWith('.txt')) {
        const text = await file.text();
        const pre = document.createElement('pre');
        pre.textContent = text;
        printArea.appendChild(pre);
        toaster('Text preview shown (Print Uploaded prints images only)');
        return;
      }

      const info = document.createElement('div');
      info.className = 'placeholder';
      info.textContent = 'Unsupported file type for preview. Try image, PDF, or text.';
      printArea.appendChild(info);
    });

    // ---- Image-only print flow (prevents extra pages) ----
    let printingJustImage = false;

    // Make sure our print-only class is applied even if Chrome fires beforeprint early
    window.addEventListener('beforeprint', () => {
      if (printingJustImage) {
        document.body.classList.add('printing-only');
      }
    });

    window.addEventListener('afterprint', () => {
      if (printingJustImage) {
        cleanupPrintOnly();
      }
    });

    function cleanupPrintOnly() {
      document.body.classList.remove('printing-only');
      document.getElementById('printOnly').innerHTML = '';
      printingJustImage = false;
      window.onafterprint = null;
    }

    async function printUploaded(){
    const img = document.querySelector('#printArea img');
    if (!img) { toaster('Please upload an image first.'); return; }

    // Make a self-contained data URL (avoids blob/CORS issues)
    const dataUrl = await (async () => {
      if (img.src.startsWith('data:')) return img.src;
      await (img.decode?.() ?? Promise.resolve());
      const c = document.createElement('canvas');
      c.width  = img.naturalWidth || img.width;
      c.height = img.naturalHeight || img.height;
      c.getContext('2d').drawImage(img, 0, 0);
      return c.toDataURL('image/png');
    })();

    const frame = document.createElement('iframe');
    frame.style.position = 'fixed';
    frame.style.width = '0'; frame.style.height = '0'; frame.style.border = '0';
    frame.setAttribute('aria-hidden', 'true');
    document.body.appendChild(frame);

    const doc = frame.contentDocument || frame.contentWindow.document;
    doc.open();
    doc.write(`<!doctype html><html><head><meta charset="utf-8"><title>Print</title>
      <style>
        @page { margin: 0; }         /* edge-to-edge */
        html, body { margin:0; padding:0; }
        img { width:100%; height:auto; display:block; }
        /* For 80mm receipts, uncomment:
        @page { size: 80mm auto; margin: 0; }
        body { width: 80mm; }
        */
      </style>
    </head><body>
      <img id="pimg" src="${dataUrl}" alt="print">
      <script>
        const go=()=>{ try{ window.focus(); window.print(); }catch(e){} };
        const i=document.getElementById('pimg');
        if(i.complete) go(); else { i.onload=go; i.onerror=go; }
        setTimeout(()=>{ try{ window.stop(); }catch(e){} }, 2000);
      <\\/script>
    </body></html>`);
    doc.close();

    // Clean up the iframe after the dialog appears
    setTimeout(() => frame.remove(), 4000);
  }
    document.getElementById('year').textContent=new Date().getFullYear();
  </script>

  <div class="toast" aria-live="polite"></div>
</body>
</html>
